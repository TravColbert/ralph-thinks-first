# Ralph-Thinks-First

## Overview

Ralph-Thinks-First (RTF) is a bash-driven agentic framework that formalizes ideation and project definition before execution. Designed around the belief that effective AI agents require clear scope, intent, and task breakdownsâ€”just like human software teams.

RTF consists of two main components:
1.  **`principal.sh` (Ideation Phase):** A collaborative, interactive CLI session between a human and an LLM to brainstorm a project, define its tasks, and establish clear success parameters for each task. The output is a `TASKS.md` file.
2.  **`ralph.sh` (Execution Phase):** An agent that automates the completion of the tasks defined in `TASKS.md`.

This document describes both components.

---

## Ideation with `principal.sh`

The `principal.sh` script is the starting point of the RTF workflow. It facilitates a structured conversation to produce a high-quality `TASKS.md` file.

### How it Works

`principal.sh` is an interactive loop that manages a conversation between you and an LLM (Claude).

1.  **Initialization**: You start the script, optionally providing an initial project idea. The script loads a "meta-prompt" which instructs the LLM on its role as a project manager.
2.  **Interactive Loop**:
    *   You provide input (your project idea, answers to questions, etc.).
    *   The script combines your input, the meta-prompt, and the current `TASKS.md` content into a single prompt for the LLM.
    *   The LLM responds with both conversational questions and a refined version of the `TASKS.md` file.
    *   The script automatically updates the `TASKS.md` file and displays the LLM's questions to you.
3.  **Completion**: The loop continues until you are satisfied with the `TASKS.md` file and end the session by typing `exit` or `quit`.

### Usage

To start the ideation session, run the script from your terminal:

```bash
./principal.sh
```

You can customize the session with the following options:

*   `-p, --prompt 'TEXT'`: Provide the initial project idea directly.
*   `-m, --model 'MODEL'`: Specify the Claude model to use (e.g., `claude-3-opus-20240229`).
*   `-f, --file 'FILE'`: Specify a custom meta-prompt file. Defaults to `META_PROMPT.md`.
*   `-h, --help`: Show the help message.

The `META_PROMPT.md` file contains the core instructions for the LLM. You can edit this file to change the LLM's behavior, persona, or output format.

---

## Execution with `ralph.sh`

Once `TASKS.md` is finalized, `ralph.sh` takes over to execute the plan.

### How it Works

1.  **Initialization**: The script reads the `TASKS.md` file.
2.  **Task Processing Loop**:
    *   It finds the first unchecked task (`- [ ]`).
    *   It constructs a prompt for the AI model, instructing it to complete that single task.
    *   After execution, it marks the task as complete (`- [x]`).
    *   The loop terminates if all tasks are completed or if the configured maximum number of iterations is reached.

### Usage for CLI Agents

*   **Execute the Plan**: Run `./ralph.sh`.
*   **Arguments**:
    *   `--max-iterations N`: Sets the max number of loop iterations (default: 10).
    *   `--tasks FILE`: Specifies the path to the task file (default: `TASKS.md`).
    *   `--model MODEL`: Defines which AI model to use.

## Project Structure

*   `principal.sh`: The interactive script for the ideation phase.
*   `ralph.sh`: The agent script for the execution phase.
*   `META_PROMPT.md`: The customizable instruction file for `principal.sh`.
*   `TASKS.md`: The project plan file, generated by `principal.sh` and consumed by `ralph.sh`.
*   `README.md`: The main documentation file for the project.
*   `TASKS.md.example`: An example file showing the expected format for the task list.

## Example Workflow

1.  **Ideate**:
    ```bash
    ./principal.sh -p "Create a simple Python web server."
    ```
    You interact with the Principal agent until `TASKS.md` is complete.

2.  **Execute**:
    ```bash
    ./ralph.sh
    ```
    Ralph takes over and starts working through the tasks in `TASKS.md`.
